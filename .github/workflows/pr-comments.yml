on: pull_request_target

jobs:
  welcome:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v6
        with:
          script: |
            const pr = context.payload.pull_request;
            const comment = `A documentation preview will be available soon:</br><ul><li>ðŸ“š [HTML diff](https://${context.repo.repo}_${pr.number}.docs-preview.app.elstc.co/diff)</li><li>ðŸ“˜ [Enterprise Search Guide](https://${context.repo.repo}_${pr.number}.docs-preview.app.elstc.co/guide/en/enterprise-search/master/index.html)</li><li>ðŸ“™ [App Search Guide](https://${context.repo.repo}_${pr.number}.docs-preview.app.elstc.co/guide/en/app-search/master/index.html)</li><li>ðŸ“™ [Workplace Search Guide](https://${context.repo.repo}_${pr.number}.docs-preview.app.elstc.co/guide/en/workplace-search/master/index.html)</li></ui>`;
            console.log(comment);
            
            const github_token = core.getInput('GITHUB_TOKEN');
            const octokit = new github.GitHub(github_token);
            const new_comment = await octokit.issues.createComment({
                repo: context.repo.repo,
                issue_number: pr.number,
                body: comment,
              });
